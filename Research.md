## 研究日誌  
5月8日  
問題1
- ファイル編集履歴をcronを使って5分ごとに実行していることにより, 収集したログから分析できない可能性 

解決方法1
- cronによって実行しているスクリプトの実行間隔を5分ごとから1分ごとに変更する.

問題2

5月14日-15日  
実作業
- cronによって実行しているスクリプトの実行間隔を5分ごとから1分ごとに変更するファイルを配置する.また、現在のcronに登録している時間を削除する.  
- ファイル編集履歴を収集しているシェルスクリプトを書き換える. git pushを行う前にgit pullを行う.  
<<<<<<< HEAD
- サーバは2週間に一回リセットされるため,上記で変更した場所を反映させるためのupdata.shを作成して2週間に一回実行する.

5月20日
実作業
lsyncの使い方など一通りを調べた．また,テスト用の環境にインストールを行なった．

5月21日  
問題1  
- ファイル編集履歴が閲覧できなくなってしまった．原因はgitのpush間隔を5分から30秒に変更したためと考える.  

解決方法1  
- cronによって定期的にファイル編集履歴を収集するのではなく，lsyncを利用してinotifyによってファイル変更を検知した時だけgit commitを行いpushするように変更すること

解決方法2
- 現時点で解決方法1が完成していないため，cronの間隔を元に戻すことで一時的に対応する．

5月22日  
実作業  
- lsync

push はしておく

サーバ管理演習

7月27日

可視化まで完成するのが理想的
ログデータを参照していく中でエラーが発生した事例をあげるなど

ログの収集、
可視化、
事例があげられる

1時間くらいポスター発表

来週中
lsyncd
push はしておく

データの可視化
質問に対応したログ
データベースで確認できるなら

タイトルは明日中
3つ,4つ考える


サーバ管理演習
- サーバは2週間に一回リセットされるため,上記で変更した場所を反映させるためのupdata.shを作成して2週間に一回実行する.

5月28・29日
M1中間発表にむけてのプレゼン資料作り

6月5日
lsyncdの使い方調査中
正直よくわからん...

lsyncdが動作しない原因を特定
原因:
- lsyncdは裏ではrsyncを利用する.そのため，ファイルを同期する際rsyncがパスワードを訪ねてくる.  そこで正しいパスワード
- パスワードを聞いて来ないように設定するためには、~/.sshに公開鍵を正しくセットする．

- 見つけるのに時間がかかった要因はserviceに登録してデーモンとして実行していたためパスワード要求がバックグラウンドで実行される。
- フォアグラウンドでは、パスワード要求がないため裏で勝手にタイムアウトして、lsyncdのデーモンが動作していなかった．
- こういうソフトを動かす時はまずデーモン化させずに実行して，そのあとバックグラウンド実行した方がいいかな．．当たり前か．